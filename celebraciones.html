<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Calendarios</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/responsive.css">
  <style>
    .category.selected { font-weight: bold; }
    .menuBar { background-color: rgba(255,255,255,0.8); }
    .menuBar.opaque { background-color: rgba(255,255,255,1); }
    .menuBar.transparent { background-color: rgba(255,255,255,0.6); }
  </style>
</head>
<body class="main-layout">
  <!--header>
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h1>Calendarios</h1>
        </div>
        <div class="col-md-6 text-right">
          <a href="index.html" class="read_more">Volver al sitio</a>
        </div>
      </div>
    </div>
  </header-->
  <nav class = "navbar navbar-expand-lg menuBar">
    <div class="container">
      <div class="row">
        <div class="ms-auto">
          <a class="fixed-bar" href="index.html">INICIO</a>
        </div>
        <div class="ms-auto">
          <a class="fixed-bar" href="shop.html">TIENDA</a>
        </div>
        <div class="ms-auto">
          <a class="fixed-bar" style="color: #000;" onclick="window.open('./portfolio.pdf');">PORTFOLIO</a>               
        </div>
        <div class="ms-auto">
          <div class="fixed-bar">
            <button href="index_closed.html"><img src="images/avatar.png" alt="#"></button>
          </div>
        </div>
        <div class="ms-auto">
          <a class="fixed-bar" href="">FINES SOLIDARIOS</a>
        </div>
        <div class="ms-auto">
          <a class="fixed-bar" href="#customer">NEREDIARTE</a>
        </div>
      </div>
    </div>
  </nav>
  <section class="slider_section">
    <div class="banner_main">
      <img src="images/celebraciones.png" alt="#"/>
    </div>
  </section>
  <!-- Categories -->
  <!--CARACTERISTICAS-->
  <section class="recordatorios">
    <div class="container-fluid" style="padding:0;">
      <img src="images/recordatorios_caract.png"></img>
    </div>
  </section>
  <!--PRODUCTOS-->
  <section class="spanTitle" style="padding-bottom:0;">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="titlepage">
            <h2>DISEÑOS DISPONIBLES</h2>
              <span style="justify-content: center;"><img src="images/separador.png" style="width: 50%;"></span>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- CARRUSEL -->
  <div class="container-flex">
    <div id="carousel_basic" class="carousel_basic">
      <div class="carousel_group">
        <div class="card"><img src="images/bautizo1_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/bautizo2_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/comunion1_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/comunion2_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/comunion3_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/bautizo1_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/bautizo2_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/comunion1_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/comunion2_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/comunion3_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/bautizo1_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/bautizo2_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/comunion1_0.png" height="512" width="512"></div>
        <div class="card"><img src="images/comunion2_0.png" height="512" width="512"></div>
      </div>
    </div>
    <div class="text-center">
      <a href="shop.html?category=comuniones" class="btn" style="margin:30px 0; width: auto;"><img style="width: 90%" src="images/more_button.png"></a>
      <div class="container-flex" style="height:15px; background-color: #fff;"></div>
    </div>
  </div>
  
  <!-- PERSONALIZACION -->
  <div id="personalizacion">
  <section class="greenSection">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="paragraph">
            <h2>¿Quieres un diseño personalizado?</h2>
          </div>
        </div>
      </div>
    </div>
    <img src="images/designprocess.png" class="img_caracteristicas">
  </section>
  <section class="greenSection" style="background-color: #fff;">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="paragraph">
            <h2 style="color: #4b5745;">Cómo trabajo</h2>
            <span class="starSpan"><img src="images/separador.png"></span>
          </div>
        </div>
      </div>
    </div>
    <img src="images/comoTrabajo.png" class="img_caracteristicas" style="width:75%;">
  </section>
  <section class="formsSection">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-6">
          <div>
            <h2 style="margin-bottom: 20px;">¿Listo para comenzar a crear?</h2>
            <p>Puedes rellenar el formulario de consulta o enviar un correo electrónico directamente a <a class="correo" href="mailto:nerediarte@gmail.com">nerediarte@gmail.com</a>.</p>
            <p> Me pondré en contacto lo antes posible.</p>
            <p style="font-style: italic; margin-top: 20px;">No olvides revisar tu carpeta de correo no deseado.</p>
          </div>
          
        </div>
        <div class="virgencita"><img src="images/drawDecoI.png"></div>
        <div class="col-md-6">
          <div class="game_box">
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="mail" name="email">
            </div>
            <div class="form-group">
                <label for="mensaje">Mensaje:</label>
                <textarea id="message" name="mensaje" rows="6"></textarea>
            </div>
            <div id="send_btn" class="send_btn"><button onclick="procesarInfo()"><img src="images/send_button.png"></button></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  </div>
  <!-- END PERSONALIZACION -->
  
  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-init.js"></script>
  <script src="js/bootstrap.bundle.min.js"></script>
  <script>
    // Hover effect for menuBar transparency on slider image
    const sliderImg = document.querySelector('.banner_main img');
    const menuBar = document.querySelector('.menuBar');
    // Make menuBar more opaque when slider_section is in view
    const sliderSection = document.querySelector('.slider_section');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          menuBar.classList.remove('opaque');
        } else {
          menuBar.classList.add('opaque');
        }
      });
    });
    observer.observe(sliderSection);

    /*INFORMACIOND DE CONTACTO*/
    /* Completar campos:*/
    const perror = document.createElement('p');
    perror.style.height = '10px';
    perror.style.color = 'white';
    perror.style.fontSize = '14px';
    perror.style.marginBottom = '10px';
    perror.style.marginLeft = '20px';
    perror.textContent = "Por favor, debe completar todos los campos.";
    document.getElementById('send_btn').prepend(perror);
    perror.style.visibility = 'hidden';

    function procesarInfo() {
      //Gererar ID de usuario y guardarlo en localStorage
      const idUsuario = Date.now() + "-" + Math.floor(Math.random()*1000); // ejemplo
      localStorage.setItem("idUsuario", idUsuario);

      const mail = document.getElementById('mail').value;
      const message = document.getElementById('message').value;

      console.log(idUsuario, mail, message);

      if (mail == "" || message == "") {
        perror.style.visibility = 'visible';
      }

      console.log(idUsuario, mail, message);

      const datos = 
      {
        type: "encargo",
        idUsuario: idUsuario.toString(),
        email: mail,
        message: message
      };

      fetch("https://script.google.com/macros/s/AKfycbwGP4h4vLOHtv8XDE2vGbZYlgw5kZF4qneIvs_arRXW1YawUBVrTBoxZqsKSMlxCJUl/exec", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(datos),
        mode: "no-cors"
      });
      console.log("Formulario enviado correctamente");
      
      //window.location.href = "pedido.html";
      //this.reset();
      /*window.location.replace("pedido.html"); PESTAÑA DE CONFIRMACION DE ENVIO FORMULARIO*/
    }
    document.addEventListener('keyup', (e) => {
      if(perror.style.visibility ==  'visible') {
            perror.style.visibility = 'hidden';
        }
    });

  </script>
  <script src="js/polyfills.js"></script>
  <script src="js/plugin.js"></script>
  <script src="js/custom.js"></script>
  <script src="js/sheets-form.js"></script>
</body>
</html>
